chords_2015 = {}
#views of the 30 beams (central tangentials)
chords_2015['t01'] = {'spec':'CT1','beams':['30lt','30rt']}
chords_2015['t02'] = {'spec':'CT1','beams':['30lt','30rt']}
chords_2015['t03'] = {'spec':'CT1','beams':['30lt','30rt']}
chords_2015['t04'] = {'spec':'CT1','beams':['30lt','30rt']}

chords_2015['t05'] = {'spec':'CT2','beams':['30lt','30rt']}
chords_2015['t06'] = {'spec':'CT2','beams':['30lt','30rt']}
chords_2015['t07'] = {'spec':'CT2','beams':['30lt','30rt']}

chords_2015['t17'] = {'spec':'U1','beams':['30lt','30rt']}
chords_2015['t18'] = {'spec':'U1','beams':['30lt','30rt']}
chords_2015['t19'] = {'spec':'U1','beams':['30lt','30rt']}
chords_2015['t20'] = {'spec':'U1','beams':['30lt','30rt']}
chords_2015['t21'] = {'spec':'U1','beams':['30lt','30rt']}
chords_2015['t22'] = {'spec':'U1','beams':['30lt','30rt']}

chords_2015['t33'] = {'spec':'U2','beams':['30lt','30rt']}
chords_2015['t34'] = {'spec':'U2','beams':['30lt','30rt']}
chords_2015['t35'] = {'spec':'U2','beams':['30lt','30rt']}
chords_2015['t36'] = {'spec':'U2','beams':['30lt','30rt']}

#330LT central vertical system
chords_2015['v01'] = {'spec':'U3','beams':['330lt']}
chords_2015['v02'] = {'spec':'U3','beams':['330lt']}
chords_2015['v03'] = {'spec':'CV2','beams':['330lt']}
chords_2015['v04'] = {'spec':'CV2','beams':['330lt']}
chords_2015['v05'] = {'spec':'CV2','beams':['330lt']}
chords_2015['v06'] = {'spec':'U3','beams':['330lt']}

chords_2015['v17'] = {'spec':'CV1','beams':['330lt']}
chords_2015['v18'] = {'spec':'CV1','beams':['330lt']}
chords_2015['v19'] = {'spec':'CV1','beams':['330lt']}
chords_2015['v20'] = {'spec':'CV1','beams':['330lt']}
chords_2015['v21'] = {'spec':'U3','beams':['330lt']}
chords_2015['v22'] = {'spec':'U3','beams':['330lt']}
chords_2015['v23'] = {'spec':'U3','beams':['330lt']}

#330RT edge vertical system
chords_2015['v07'] = {'spec':'CV2','beams':['330rt']}
chords_2015['v08'] = {'spec':'U3','beams':['330rt']}
chords_2015['v09'] = {'spec':'EV1','beams':['330rt']}
chords_2015['v10'] = {'spec':'EV1','beams':['330rt']}
chords_2015['v11'] = {'spec':'EV1','beams':['330rt']}
chords_2015['v12'] = {'spec':'EV1','beams':['330rt']}
chords_2015['v13'] = {'spec':'EV1','beams':['330rt']}
chords_2015['v14'] = {'spec':'EV1','beams':['330rt']}
chords_2015['v15'] = {'spec':'EV1','beams':['330rt']} #dead??
chords_2015['v16'] = {'spec':'EV1','beams':['330rt']}

chords_2015['v24'] = {'spec':'U3','beams':['330rt']}
chords_2015['v25'] = {'spec':'EV2','beams':['330rt']}
chords_2015['v26'] = {'spec':'EV2','beams':['330rt']}
chords_2015['v27'] = {'spec':'EV2','beams':['330rt']}
chords_2015['v28'] = {'spec':'EV2','beams':['330rt']}
chords_2015['v29'] = {'spec':'EV2','beams':['330rt']}
chords_2015['v30'] = {'spec':'EV2','beams':['330rt']}
chords_2015['v31'] = {'spec':'EV2','beams':['330rt']}
chords_2015['v32'] = {'spec':'EV2','beams':['330rt']}

#330L + 330RT edge tangential system
chords_2015['t08'] = {'spec':'CT2','beams':['330lt','330rt']}#??
chords_2015['t09'] = {'spec':'ET1','beams':['330lt','330rt']}
chords_2015['t10'] = {'spec':'ET1','beams':['330lt','330rt']}
chords_2015['t11'] = {'spec':'ET1','beams':['330lt','330rt']}
chords_2015['t12'] = {'spec':'ET1','beams':['330lt','330rt']}
chords_2015['t13'] = {'spec':'ET1','beams':['330lt','330rt']}
chords_2015['t14'] = {'spec':'ET1','beams':['330lt','330rt']}
chords_2015['t15'] = {'spec':'ET1','beams':['330lt','330rt']}
chords_2015['t16'] = {'spec':'ET1','beams':['330lt','330rt']}

#OK
chords_2015['t23'] = {'spec':'U1','beams':['330lt','330rt']}
chords_2015['t24'] = {'spec':'U1','beams':['330lt','330rt']}

chords_2015['t41'] = {'spec':'ET2','beams':['330lt','330rt']}
chords_2015['t42'] = {'spec':'ET2','beams':['330lt','330rt']}
chords_2015['t43'] = {'spec':'ET2','beams':['330lt','330rt']}
chords_2015['t44'] = {'spec':'ET2','beams':['330lt','330rt']}
chords_2015['t45'] = {'spec':'ET2','beams':['330lt','330rt']}
chords_2015['t46'] = {'spec':'ET2','beams':['330lt','330rt']}
chords_2015['t47'] = {'spec':'ET2','beams':['330lt','330rt']}
chords_2015['t48'] = {'spec':'ET2','beams':['330lt','330rt']}

#210
#OK
chords_2015['t25'] = {'spec':'U4','beams':['210lt','210rt']}
chords_2015['t26'] = {'spec':'U4','beams':['210lt','210rt']}
chords_2015['t27'] = {'spec':'U4','beams':['210lt','210rt']}
chords_2015['t28'] = {'spec':'U4','beams':['210lt','210rt']}
chords_2015['t29'] = {'spec':'U4','beams':['210lt','210rt']}
chords_2015['t30'] = {'spec':'U4','beams':['210lt','210rt']}
chords_2015['t31'] = {'spec':'U4','beams':['210lt','210rt']}
chords_2015['t32'] = {'spec':'U4','beams':['210lt','210rt']}

#OK
chords_2015['t37'] = {'spec':'U2','beams':['210lt','210rt']}
chords_2015['t38'] = {'spec':'U2','beams':['210lt','210rt']}
chords_2015['t39'] = {'spec':'U2','beams':['210lt','210rt']}
chords_2015['t40'] = {'spec':'U2','beams':['210lt','210rt']}

class impurity_CER():
    def __init__(self,shot):
        self.shot = shot
        if shot>=162705:
            self.chords = chords_2015
    def chords_for_beam(self, beam, vertical=True, tangential=True, inc_specs=None, exc_specs=None, remove_chords = None):
        #Generate a list of spectrometers
        if remove_chords==None: remove_chords = []
        if inc_specs == None:
            self.inc_specs = []
            for i in self.chords.keys():
                if self.chords[i]['spec'] not in self.inc_specs:
                    self.inc_specs.append(self.chords[i]['spec'])
                spectrometers = ['U1','U2','U3','U4','ET1','ET2','EV1','EV2',]
        else:
            self.inc_specs = inc_specs
        self.inc_specs = [i.upper() for i in self.inc_specs]

        print self.inc_specs

        #Remove specs that are 
        if exc_specs==None: exc_specs = []
        for i in exc_specs: 
            try:
                self.inc_specs.remove(i)
            except ValueError:
                print('Unable to remove spectrometer:{}'.format(exc_specs))
        print 'after excl', self.inc_specs

        valid_chords = []
        for i in self.chords.keys():
            if (beam in self.chords[i]['beams']) and (self.chords[i]['spec'] in self.inc_specs):
                valid_chords.append(i)
        print valid_chords
        #remove based on vertical/tangential
        remove_chords = []
        if vertical!=True:
            for i in range(len(valid_chords)):
                if valid_chords[i][0]=='v':
                    remove_chords.append(valid_chords[i])
        if tangential!=True:
            for i in range(len(valid_chords)):
                if valid_chords[i][0]=='t':
                    remove_chords.append(valid_chords[i])
        for i in remove_chords:
            try:
                valid_chords.remove(i)
            except ValueError:
                print('Unable to remove chord:{}'.format(i))
        return valid_chords


